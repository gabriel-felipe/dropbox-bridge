var Dropbox=Vue.component("dropbox",{template:"#dropbox-template",props:{user:{type:Object,default:{}}},data:function(){return{ready:!1}},created:function(){var t={url:apiEndPoint+"/account",method:"GET"};this.$http(t).then(function(t){if(200===t.status)if(t.body.authenticated){var e=t.body.user;this.$emit("found-user",e),t.body.folder?this.ready=!0:this.$router.push("/select-folder")}else this.$router.push("/")})}}),SelectFolder=Vue.component("selectFolder",{template:"#select-folder-template",props:{user:{type:Object,default:{}}},data:function(){return{ready:!1,folders:[]}},created:function(){this.updateFolders()},methods:{updateFolders:function(t){void 0===t&&(t="/");var e={url:apiEndPoint+"/folders/list",method:"GET",params:{folder:t}};this.$http(e).then(function(t){200===t.status&&(t.body.folders?(this.ready=!0,this.folders=t.body.folders):this.$router.push("/"))})}}}),Login=Vue.component("login",{template:"#login-template",props:{},data:function(){return{ready:!1,loginUrl:null}},created:function(){var t={url:apiEndPoint+"/login-url",method:"GET"};this.$http(t).then(function(t){200===t.status&&(t.body.authenticated?this.$router.push("/dropbox"):(this.ready=!0,this.loginUrl=t.body.url))})},methods:{}});console.log(Login);var Loader=Vue.component("loader",{template:"#loader-template",props:{},data:function(){return{}},methods:{}}),apiEndPoint="http://localhost/dropbox-integration/api/",routes=[{path:"/",component:Login},{path:"/dropbox",component:Dropbox},{path:"/select-folder",component:SelectFolder}],router=new VueRouter({routes:routes,scrollBehavior:function(t,e,o){return o||{x:0,y:0}}}),app=new Vue({router:router,data:{user:{name:null}},methods:{updateUser:function(t){console.log(t),console.log("UPDATING USER"),this.user=t}}}).$mount("#app");